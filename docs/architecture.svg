<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="720" viewBox="0 0 1080 720">
  <defs>
    <style>
      .box { fill:#ffffff; stroke:#111827; stroke-width:2; }
      .title { font-family: Arial, Helvetica, sans-serif; font-size:16px; font-weight:600; fill:#111827; }
      .text { font-family: Arial, Helvetica, sans-serif; font-size:13px; font-weight:400; fill:#374151; }
      .line { stroke:#6b7280; stroke-width:2; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#6b7280" />
    </marker>
  </defs>

  <!-- Client -->
  <rect class="box" x="40" y="60" width="210" height="100" rx="8" ry="8" />
  <text class="title" x="55" y="85">Client (Web/Mobile)</text>
  <text class="text" x="55" y="110">- Bun + TS SDK</text>
  <text class="text" x="55" y="130">- Sign & submit txs</text>

  <!-- Raffle Program -->
  <rect class="box" x="320" y="40" width="280" height="140" rx="8" ry="8" />
  <text class="title" x="335" y="65">Raffle Program (Anchor)</text>
  <text class="text" x="335" y="90">- Escrow (ATA owned by PDA)</text>
  <text class="text" x="335" y="110">- Tickets: ranges per deposit</text>
  <text class="text" x="335" y="130">- States: Selling/Drawing/Completed/Refunding</text>

  <!-- MOGA Mint & Escrow -->
  <rect class="box" x="320" y="220" width="280" height="120" rx="8" ry="8" />
  <text class="title" x="335" y="245">MOGA Mint & Escrow</text>
  <text class="text" x="335" y="270">- SPL Token / Token-2022</text>
  <text class="text" x="335" y="290">- Escrow ATA (raffle owner)</text>

  <!-- Arcium -->
  <rect class="box" x="660" y="60" width="360" height="140" rx="8" ry="8" />
  <text class="title" x="675" y="85">Arcium MPC (Randomness)</text>
  <text class="text" x="675" y="110">- Queue computation</text>
  <text class="text" x="675" y="130">- Callback: winner index</text>

  <!-- Light Protocol -->
  <rect class="box" x="660" y="240" width="360" height="160" rx="8" ry="8" />
  <text class="title" x="675" y="265">Light Protocol (zk-compression)</text>
  <text class="text" x="675" y="290">- Compressed tickets/claims</text>
  <text class="text" x="675" y="310">- V1 mainnet trees / V2 dev</text>
  <text class="text" x="675" y="330">- Batch proof updates</text>

  <!-- Offchain Worker -->
  <rect class="box" x="40" y="240" width="210" height="140" rx="8" ry="8" />
  <text class="title" x="55" y="265">Offchain Worker</text>
  <text class="text" x="55" y="290">- Watch program events</text>
  <text class="text" x="55" y="310">- Orchestrate Arcium draw</text>
  <text class="text" x="55" y="330">- Manage Light proofs</text>

  <!-- Lines -->
  <line class="line" x1="250" y1="110" x2="320" y2="110" marker-end="url(#arrow)" />
  <text class="text" x="255" y="100">Initialize / Deposit</text>

  <line class="line" x1="460" y1="180" x2="460" y2="220" marker-end="url(#arrow)" />
  <text class="text" x="470" y="205">Escrow</text>

  <line class="line" x1="600" y1="110" x2="660" y2="110" marker-end="url(#arrow)" />
  <text class="text" x="605" y="100">Request Draw</text>

  <line class="line" x1="840" y1="200" x2="840" y2="240" marker-end="url(#arrow)" />
  <text class="text" x="850" y="225">Settle Winner</text>

  <line class="line" x1="250" y1="290" x2="320" y2="290" marker-end="url(#arrow)" />
  <text class="text" x="255" y="280">Refund / Claim</text>

  <line class="line" x1="600" y1="320" x2="660" y2="320" marker-end="url(#arrow)" />
  <text class="text" x="605" y="310">Compressed Updates</text>
</svg>
